<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Listening App (MVP)</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header>
    <h1>Listening App — MVP</h1>
  </header>

  <main>
    <!-- 1. Day選択 -->
    <section id="toc">
      <h2>1. Dayを選択してください</h2>
      <div id="lesson-list" class="grid"></div>
    </section>

    <!-- 2. 音声 -->
    <section id="player" class="card hidden">
      <h2>2. 音声を聴く</h2>
      <p id="lesson-title"></p>
      <audio id="audio" controls preload="none"></audio>
      <div class="controls">
        <label>Speed
          <select id="speed">
            <option value="0.75">0.75×</option>
            <option value="1" selected>1.0×</option>
            <option value="1.25">1.25×</option>
            <option value="1.5">1.5×</option>
          </select>
        </label>
        <button id="btn-replay">⟲ 10s</button>
        <button id="btn-loop">Loop: Off</button>
      </div>
      <div class="next row">
        <button id="btn-show-script-plain" class="primary">スクリプトを表示</button>
        <button id="btn-show-script-cloze" class="primary">穴埋め問題に挑戦！</button>
        <button id="btn-next" class="primary">次へ</button>
      </div>
    </section>

    <!-- スクリプト表示 -->
    <section id="transcript" class="card hidden">
      <h2>スクリプト</h2>
      <div id="transcript-container"></div>
      <div class="next">
        <button id="btn-hide-script">閉じる</button>
      </div>
    </section>

    <!-- 3. 穴埋め問題 -->
    <section id="cloze-original" class="card hidden">
      <h2>3. 穴埋め問題</h2>
      <div id="cloze-original-container"></div>
    </section>

    <!-- 4. 新しい会話文（TTS再生 + 任意でスクリプト表示） -->
    <section id="new-dialogue" class="card hidden">
      <h2>4. キーフレーズを用いた新しい会話文</h2>
      <button id="btn-generate-dialogue" class="primary">新しい会話文を生成</button>

      <div id="new-dialogue-audio-box" class="hidden" style="margin-top:12px">
        <audio id="new-dialogue-audio" controls preload="none"></audio>
      </div>

      <div id="new-dialogue-controls" class="hidden" style="margin-top:8px">
        <button id="btn-show-new-script" class="primary">スクリプトを表示</button>
      </div>

      <pre id="new-dialogue-text" class="hidden" style="margin-top:8px"></pre>
    </section>
  </main>

  <footer>
    <p>© Listening App</p>
  </footer>

  <script src="/app.js"></script>
</body>
</html>
